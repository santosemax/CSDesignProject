<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='results.css') }}">
    <title>Search Results</title>
    <style>
        .film-image {
            max-width: 300px; /* Set maximum width for the image */
            height: auto; /* Maintain aspect ratio */
        }
    </style>
</head>
<body>

    {% if results %}
        <div class="articles">
        <h1>Articles</h1>
        <ul>
            {% for result in results %}
                {% if result[4] != "IMDb" and result[4] != "Spotify" and result[4] != "Google Books" %}
                    <li><a href="{{ result[2] }}" target="_blank">{{ result[1] }}</a></li>
                {% endif %}
            {% endfor %}
        </ul>
        </div>

        
        <h1>Films</h1>
        <div class="films">
        <ul>
            
            {% for result in results %}
            
                {% if result[4] == "IMDb" %}
                
                    {% if not loop.last %} 
                    
                     {{ result[1] }}
                        <div class="film-title">
                        {% if "IMDb URL" in result[1] %}    
                            <p><a href="{{ result[1].split(': ')[1] }}" target="_blank">IMDb Link</a></p>
                        </div>
                        {% endif %}
                        
                        <div class="film-img">
                        {% if "Image" in result[1] %}
                        
                            <img src="{{ result[1].split(': ')[1] }}" alt="NO IMAGE" class="film-image">
                        {% endif %}
                        </div>
                        
                        <div class="film-summary">
                        {% if "Summary" in result[1] %}
                        
                            <!-- <p>{{ result[1].split(': ')[0] }}</p> -->                      
                        {% endif %}
                        </div>
                        
                        <div class="film-director">
                        {% if "Director" in result[1] %}
                        
                            <!-- <p>{{ result[1].split(': ')[0] }}</p> -->                      
                        {% endif %}
                        </div>
                        
                        <div class="film-cast">
                        {% if "Cast" in result[1] %}
                        
                            <!-- <p>{{ result[1].split(': ')[0] }}</p> -->
                        
                        </div>
                        {% endif %}
                
                    {% endif %}
                
                {% endif %}
            </div>
            {% endfor %}
        
        </ul>

        <div class="albums">
        <h2>Album Information</h2>
        <ul>
            {% for result in results %}
                {% if result[4] == "Spotify" %}
                    <li>{{ result[1] }}</li>
                    {% if "Artist" in result[1] %}
                        <p>{{ result[1].split(': ')[1] }}</p>
                    {% endif %}
                    {% if "Album Cover" in result[1] %}
                        <img src="{{ result[1].split(': ')[1] }}" alt="NO IMAGE" class="film-image">
                    {% endif %}
                    {% if "Release Date" in result[1] %}
                        <p>{{ result[1].split(': ')[1] }}</p>
                    {% endif %}
                    {% if "Total Tracks" in result[1] %}
                        <p>{{ result[1].split(': ')[1] }}</p>
                    {% endif %}
                {% endif %}
            {% endfor %}
        </ul>
    </div>

        <div class="books">
        <h2>Book Information</h2>
        <ul>
            {% for result in results %}
                {% if result[4] == "Google Books" %}
                    <li>{{ result[1] }}</li>
                    {% if "Author" in result[1] %}
                        <p>{{ result[1].split(': ')[1] }}</p>
                    {% endif %}
                    {% if "Year of Publication" in result[1] %}
                        <p>{{ result[1].split(': ')[1] }}</p>
                    {% endif %}
                    {% if "Book Cover" in result[1] %}
                        <img src="{{ result[1].split(': ')[1] }}" alt="NO IMAGE" class="film-image">
                    {% endif %}
                {% endif %}
            {% endfor %}
        </ul>
    {% else %}
        <p>No results found.</p>
    {% endif %}
</div>
    
    <a href="/">Back to Home</a>
</body>
</html>
